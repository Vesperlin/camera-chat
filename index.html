<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" />
<title>1v1 · 相机上传 + 聊天（黑白）</title>
<link rel="stylesheet" href="style.css" />
<script type="module" src="chat.js"></script>
</head>

<body>
<div class="wrap">
  <!-- 顶栏（固定） -->
  <header class="top">
    <div class="top-row">
      <input id="room" class="ipt" placeholder="房间ID" />
      <button id="join" class="btn">加入/创建</button>
      <label class="chk"><input id="ttsToggle" type="checkbox"> 朗读对方</label>
    </div>
  </header>

  <!-- 消息列表 -->
  <main id="log"></main>

  <!-- 全屏图片查看 -->
  <div id="viewer" class="viewer"><img /></div>

  <!-- 底部 -->
  <footer class="footer">
    <div class="toolbar">
      <button id="plusBtn" class="tbtn">＋</button>
      <button id="cameraBtn" class="tbtn">📷</button>
      <button id="templateBtn" class="tbtn">模板</button>
    </div>
    <div class="composer">
      <input id="text" placeholder="发消息…（回车发送）" />
      <button id="send" class="send-fab">↑</button>
    </div>
  </footer>

  <!-- 弹出功能面板 -->
  <div id="sheetMask" class="sheet-mask"></div>
  <section id="sheet" class="sheet">
    <div class="sheet-grid">
      <div class="sheet-item" id="sheetTemplate">📄 模板</div>
      <div class="sheet-item" id="sheetPhoto">🖼 上传图片</div>
      <div class="sheet-item" id="sheetCamera">📷 打开相机</div>
    </div>
  </section>

  <!-- 相机全屏界面 -->
  <section id="camPane" class="cam-pane">
    <video id="camView" playsinline muted></video>
    <div class="cam-controls">
      <button id="shootBtn" class="cam-btn">拍照并上传</button>
      <button id="closeCamBtn" class="cam-btn danger">关闭相机</button>
    </div>
  </section>

  <div class="toast" id="toast"></div>
</div>
</body>
</html>
